{% extends "admin/base_site.html" %}

{% block breadcrumbs %}
<div class="btn-voltar-container">
    <a href="/admin/" class="btn-voltar-topo">‚Üê Voltar ao In√≠cio</a>
</div>
{% endblock %}

{% block content %}
<style>
    /* Estilo dos Cards */
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Um pouco mais largo */
        gap: 20px;
        margin-bottom: 30px;
    }
    .card {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        text-align: center;
        border-left: 5px solid #ccc;
        transition: transform 0.2s;
    }
    .card:hover { transform: translateY(-3px); }
    
    .card h3 { margin: 0; font-size: 13px; color: #777; text-transform: uppercase; letter-spacing: 0.5px; }
    .card p { font-size: 28px; font-weight: 900; margin: 10px 0 5px; color: #333; }
    .card span { font-size: 11px; color: #999; }
    
    /* Cores espec√≠ficas */
    .card.money { border-left-color: #28a745; } /* Recebido */
    .card.money p { color: #28a745; }
    
    .card.future { border-left-color: #ffc107; } /* A Receber */
    .card.future p { color: #d39e00; }

    .card.pending { border-left-color: #C51625; } /* Pendente (Vermelho Identidade) */
    .card.pending p { color: #C51625; }

    .card.done { border-left-color: #123C65; } /* Entregue (Azul Identidade) */
    .card.done p { color: #123C65; }

    /* Estilo do Filtro */
    .filter-form {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 25px;
        display: flex;
        gap: 15px;
        align-items: flex-end;
        border: 1px solid #e9ecef;
    }
    .form-group label { display: block; font-size: 12px; margin-bottom: 5px; font-weight: bold; color: #555; }
    .form-group input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
    
    /* BOT√ÉO AZUL IDENTIDADE */
    .btn-filter { 
        background: #123C65; 
        color: white; 
        border: none; 
        padding: 10px 20px; 
        cursor: pointer; 
        border-radius: 4px; 
        font-weight: bold;
        text-transform: uppercase;
        font-size: 12px;
        transition: background 0.3s;
    }
    .btn-filter:hover { background: #0d2b4a; }
</style>

<h1 style="margin-bottom: 20px; color: #333;">Painel de Gest√£o Financeira</h1>

<form method="get" class="filter-form">
    <div class="form-group">
        <label>Data Inicial:</label>
        <input type="date" name="data_inicial" value="{{ data_inicial }}" required>
    </div>
    <div class="form-group">
        <label>Data Final:</label>
        <input type="date" name="data_final" value="{{ data_final }}" required>
    </div>
    <button type="submit" class="btn-filter">üîç Filtrar Relat√≥rio</button>
</form>

<div class="dashboard-grid">
    <div class="card money">
        <h3>Receita Realizada</h3>
        <p>R$ {{ total_ganhos|floatformat:2 }}</p>
        <span>Dinheiro j√° no caixa</span>
    </div>

    <div class="card future">
        <h3>Receita Pendente</h3>
        <p>R$ {{ ganhos_pendentes|floatformat:2 }}</p>
        <span>Dinheiro parado no estoque</span>
    </div>

    <div class="card">
        <h3>Ticket M√©dio</h3>
        <p>R$ {{ ticket_medio|floatformat:2 }}</p>
        <span>M√©dia por encomenda</span>
    </div>

    <div class="card pending">
        <h3>Estoque Atual</h3>
        <p>{{ total_pendentes }}</p>
        <span>Pacotes aguardando retirada</span>
    </div>

    <div class="card done">
        <h3>Entregas Realizadas</h3>
        <p>{{ total_entregues }}</p>
        <span>Pacotes finalizados</span>
    </div>

    <div class="card">
        <h3>Volume Total</h3>
        <p>{{ total_encomendas }}</p>
        <span>Movimenta√ß√£o total do per√≠odo</span>
    </div>
</div>
{% endblock %}